const mobileMenuIcon=document.querySelector(".mobile-menu__icon"),mobileNav=document.querySelector(".mobile-menu__nav"),mobileCloseIcon=document.querySelector(".mobile-menu__close");mobileMenuIcon.addEventListener("click",(()=>{changeVisibility(mobileNav,"toggle")})),mobileCloseIcon.addEventListener("click",(()=>{changeVisibility(mobileNav,"toggle")}));const form=document.querySelector("#loanForm"),inputFields=Array.from(document.querySelectorAll(".input__field"));let fields=[];function validateField(e){let t=e.value;setStatus(e,""==t||t<=0||null==t?"error":"success")}function setStatus(e,t){const n=document.createElement("span");n.className="input__error-icon";const o=document.createElement("img");o.src="./assets/error.svg",o.setAttribute("aria-hidden","true"),n.appendChild(o);const l=e.previousElementSibling;"error"===t&&(e.classList.contains("input__field--error")||e.parentNode.insertBefore(n,e.nextSibling),l.classList.add("input__icon--error"),e.classList.add("input__field--error")),"success"===t&&(e.nextElementSibling&&e.nextElementSibling.remove(),l.classList.remove("input__icon--error"),e.classList.remove("input__field--error"))}inputFields.forEach((e=>{fields.push(e)})),fields.forEach((e=>{e.addEventListener("blur",(t=>{validateField(e)}))})),form.addEventListener("submit",(e=>{const t=document.querySelector(".input__field--error");e.preventDefault(),fields.forEach((e=>{console.log(e.value),validateField(e)})),t||displayResult()}));const resultElement=document.querySelector("#resultSection"),loanElement=document.querySelector("#loanSection"),resetBtn=document.querySelector("#resetCalculator");function runCalculator(){const e=parseFloat(document.querySelector("#loanAmount").value),t=parseFloat(document.querySelector("#loanTerm").value),n=parseFloat(document.querySelector("#interestRate").value),o=n/100/12,l=12*t;let r=e*o/(1-(1+o)**-l),i=r*l,s=i-e;return i=i.toFixed(2),s=s.toFixed(2),r=r.toFixed(2),{totalPayment:i,totalInterest:s,monthlyPayment:r,loanAmount:e,loanTerm:t,interestRate:n}}function displayResult(){const e=runCalculator(),t=document.querySelector("#resultMonthly"),n=document.querySelector("#resultInterest"),o=document.querySelector("#resultAmount"),l=document.querySelector("#calcInputTerm"),r=document.querySelector("#calcInputAmount"),i=document.querySelector("#calcInputInterest");t.textContent=`$ ${e.totalPayment}`,n.textContent=`$ ${e.totalInterest}`,o.textContent=`$ ${e.monthlyPayment}`,l.textContent=`${e.loanTerm}  Years`,r.textContent=`$ ${e.loanAmount}`,i.textContent=`$ ${e.interestRate}`,changeVisibility(resultElement,"show"),changeVisibility(loanElement,"hide")}function changeVisibility(e,t){"show"===t&&e.classList.remove("is-hidden"),"hide"===t&&e.classList.add("is-hidden"),"toggle"===t&&e.classList.toggle("is-hidden")}resetBtn.addEventListener("click",(()=>{fields.forEach((e=>{e.value=""})),changeVisibility(resultElement,"hide"),changeVisibility(loanElement,"show")}));
//# sourceMappingURL=bundle.js.map