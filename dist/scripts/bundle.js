const resultElement=document.querySelector("#resultSection"),loanElement=document.querySelector("#loanSection"),resetBtn=document.querySelector("#resetCalculator");function runCalculator(){const e=parseFloat(document.querySelector("#loanAmount").value),t=parseFloat(document.querySelector("#loanTerm").value),n=parseFloat(document.querySelector("#interestRate").value),l=n/100/12,i=12*t;let r=e*l/(1-(1+l)**-i),o=r*i,s=o-e;return o=o.toFixed(2),s=s.toFixed(2),r=r.toFixed(2),{totalPayment:o,totalInterest:s,monthlyPayment:r,loanAmount:e,loanTerm:t,interestRate:n}}function displayResult(){const e=runCalculator(),t=document.querySelector("#resultMonthly"),n=document.querySelector("#resultInterest"),l=document.querySelector("#resultAmount"),i=document.querySelector("#calcInputTerm"),r=document.querySelector("#calcInputAmount"),o=document.querySelector("#calcInputInterest");t.textContent=`$ ${e.monthlyPayment}`,n.textContent=`$ ${e.totalInterest}`,l.textContent=`$ ${e.totalPayment}`,i.textContent=`${e.loanTerm}  Years`,r.textContent=`$ ${e.loanAmount}`,o.textContent=`% ${e.interestRate}`,changeVisibility(resultElement,"show"),changeVisibility(loanElement,"hide")}resetBtn.addEventListener("click",(()=>{fields.forEach((e=>{e.value=""})),changeVisibility(resultElement,"hide"),changeVisibility(loanElement,"show")}));class FormValidator{constructor(e,t){this.form=e,this.fields=t}initialize(){this.validateOnSubmit(),this.validateOnBlur()}validateOnSubmit(){this.form.addEventListener("submit",(e=>{e.preventDefault();const t=document.querySelector(".input__field--error");this.fields.forEach((e=>{this.validateField(e)})),t||displayResult()}))}validateOnBlur(){this.fields.forEach((e=>{e.addEventListener("blur",(()=>{this.validateField(e)}))}))}validateField(e){const t=e.value;""==t||t<=0||null==t?this.setStatus(e,"error"):this.setStatus(e,"success")}setStatus(e,t){const n=document.createElement("span");n.className="input__error-icon";const l=document.createElement("img");l.src="./assets/error.svg",l.setAttribute("aria-hidden","true"),n.appendChild(l);const i=e.previousElementSibling;"error"===t&&(e.classList.contains("input__field--error")||e.parentNode.insertBefore(n,e.nextSibling),i.classList.add("input__icon--error"),e.classList.add("input__field--error")),"success"===t&&(e.nextElementSibling&&e.nextElementSibling.remove(),i.classList.remove("input__icon--error"),e.classList.remove("input__field--error"))}}const form=document.querySelector("#loanForm"),inputFields=Array.from(document.querySelectorAll(".input__field"));let fields=[];inputFields.forEach((e=>{fields.push(e)}));const validator=new FormValidator(form,fields);function changeVisibility(e,t){"show"===t&&e.classList.remove("is-hidden"),"hide"===t&&e.classList.add("is-hidden"),"toggle"===t&&e.classList.toggle("is-hidden")}validator.initialize();
//# sourceMappingURL=bundle.js.map