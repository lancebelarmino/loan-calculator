{"version":3,"sources":["scripts.js"],"names":["mobileMenuIcon","document","querySelector","mobileNav","mobileCloseIcon","addEventListener","changeVisibility","form","inputFields","Array","from","querySelectorAll","fields","validateField","field","userInput","value","setStatus","status","errorMessage","createElement","className","errorIcon","src","setAttribute","appendChild","inputIcon","previousElementSibling","classList","contains","parentNode","insertBefore","nextSibling","add","nextElementSibling","remove","forEach","push","e","fieldError","preventDefault","console","log","displayResult","resultElement","loanElement","resetBtn","runCalculator","loanAmount","parseFloat","loanTerm","interestRate","yearlyInterestRate","totalMonths","monthlyPayment","totalPayment","totalInterest","toFixed","result","resultMonthly","resultInterest","resultAmount","calcInputTerm","calcInputAmount","calcInputInterest","textContent","element","action","toggle"],"mappings":"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","file":"bundle.js","sourcesContent":["/**\r\n * Header\r\n * - Hamburger Menu Close & Open\r\n * - Close Icon\r\n */\r\n\r\nconst mobileMenuIcon = document.querySelector('.mobile-menu__icon');\r\nconst mobileNav = document.querySelector('.mobile-menu__nav');\r\nconst mobileCloseIcon = document.querySelector('.mobile-menu__close');\r\n\r\nmobileMenuIcon.addEventListener('click', () => {\r\n  changeVisibility(mobileNav, 'toggle');\r\n});\r\nmobileCloseIcon.addEventListener('click', () => {\r\n  changeVisibility(mobileNav, 'toggle');\r\n});\r\n\r\n\r\n\r\n/**\r\n * Loan Form\r\n * - Validate Field & Form\r\n * - Calculate Inputs & Display Results\r\n * - Reset Calculator\r\n */\r\n\r\nconst form = document.querySelector('#loanForm');\r\nconst inputFields = Array.from(document.querySelectorAll('.input__field'));\r\nlet fields = [];\r\n\r\n\r\n\r\n// Get All Fields\r\ninputFields.forEach((field) => {\r\n  fields.push(field);\r\n});\r\n\r\n// Validate On Blur\r\nfields.forEach((field) => {\r\n  field.addEventListener('blur', (e) => {\r\n    validateField(field);\r\n  });\r\n});\r\n\r\n// Validate/Run On Submit\r\nform.addEventListener('submit', (e) => {\r\n  const fieldError = document.querySelector('.input__field--error');\r\n  e.preventDefault();\r\n  \r\n  fields.forEach((field) => {\r\n    console.log(field.value);\r\n    validateField(field);\r\n  });\r\n\r\n  if (!fieldError) {\r\n    \r\n    displayResult();\r\n  }\r\n});\r\n\r\n// Form Validation\r\nfunction validateField(field) {\r\n  let userInput = field.value;\r\n\r\n  if (userInput == '' || userInput <= 0 || userInput == null) {\r\n    setStatus(field, 'error');\r\n  } else {\r\n    setStatus(field, 'success');\r\n  }\r\n}\r\n\r\nfunction setStatus(field, status) {\r\n  // Create Error UI\r\n  const errorMessage = document.createElement('span');\r\n  errorMessage.className = 'input__error-icon';\r\n\r\n  const errorIcon = document.createElement('img');\r\n  errorIcon.src = './assets/error.svg';\r\n  errorIcon.setAttribute('aria-hidden', 'true');\r\n\r\n  errorMessage.appendChild(errorIcon);\r\n\r\n  // Select UI Elements\r\n  const inputIcon = field.previousElementSibling;\r\n\r\n  if (status === 'error') {\r\n    if (!field.classList.contains('input__field--error')) {field.parentNode.insertBefore(errorMessage, field.nextSibling);}\r\n    inputIcon.classList.add('input__icon--error');\r\n    field.classList.add('input__field--error');\r\n  } \r\n  \r\n  if (status === 'success') {\r\n    if (field.nextElementSibling) {field.nextElementSibling.remove();}\r\n    inputIcon.classList.remove('input__icon--error');\r\n    field.classList.remove('input__field--error');\r\n  }\r\n}\r\n\r\n\r\n\r\n// Calculator\r\nconst resultElement = document.querySelector('#resultSection');\r\nconst loanElement = document.querySelector('#loanSection');\r\nconst resetBtn = document.querySelector('#resetCalculator');\r\n\r\nfunction runCalculator() {\r\n  const loanAmount = parseFloat(document.querySelector('#loanAmount').value);\r\n  const loanTerm = parseFloat(document.querySelector('#loanTerm').value);\r\n  const interestRate = parseFloat(document.querySelector('#interestRate').value);\r\n\r\n  const yearlyInterestRate = (interestRate / 100) / 12;\r\n  const totalMonths = loanTerm * 12;\r\n  let monthlyPayment = (loanAmount * yearlyInterestRate) / (1 - ((1 + yearlyInterestRate) ** -totalMonths));\r\n  let totalPayment = monthlyPayment * totalMonths;\r\n  let totalInterest = totalPayment - loanAmount;\r\n\r\n  totalPayment = totalPayment.toFixed(2);\r\n  totalInterest = totalInterest.toFixed(2);\r\n  monthlyPayment = monthlyPayment.toFixed(2);\r\n\r\n  return {\r\n    totalPayment: totalPayment,\r\n    totalInterest: totalInterest,\r\n    monthlyPayment: monthlyPayment,\r\n    loanAmount: loanAmount,\r\n    loanTerm: loanTerm,\r\n    interestRate: interestRate,\r\n  }\r\n}\r\n\r\nfunction displayResult() {\r\n  const result = runCalculator();\r\n  const resultMonthly = document.querySelector('#resultMonthly');\r\n  const resultInterest = document.querySelector('#resultInterest');\r\n  const resultAmount = document.querySelector('#resultAmount');\r\n  const calcInputTerm = document.querySelector('#calcInputTerm');\r\n  const calcInputAmount = document.querySelector('#calcInputAmount');\r\n  const calcInputInterest = document.querySelector('#calcInputInterest');\r\n  \r\n\r\n  resultMonthly.textContent = `$ ${result.totalPayment}`;\r\n  resultInterest.textContent = `$ ${result.totalInterest}`;\r\n  resultAmount.textContent = `$ ${result.monthlyPayment}`;\r\n  calcInputTerm.textContent = `${result.loanTerm}  Years`;\r\n  calcInputAmount.textContent = `$ ${result.loanAmount}`;\r\n  calcInputInterest.textContent = `$ ${result.interestRate}`;\r\n\r\n  changeVisibility(resultElement, 'show');\r\n  changeVisibility(loanElement, 'hide');\r\n}\r\n\r\n// Reset Calculator\r\nresetBtn.addEventListener('click', () => {\r\n  fields.forEach((field) => {\r\n    field.value = '';\r\n  });\r\n\r\n  changeVisibility(resultElement, 'hide');\r\n  changeVisibility(loanElement, 'show');\r\n});\r\n\r\n\r\n\r\n/**\r\n * Helpers\r\n * - Visibility\r\n */\r\n\r\nfunction changeVisibility(element, action) {\r\n  if (action === 'show') {\r\n    element.classList.remove('is-hidden');\r\n  }\r\n\r\n  if (action === 'hide') {\r\n    element.classList.add('is-hidden');\r\n  }\r\n\r\n  if (action === 'toggle') {\r\n    element.classList.toggle('is-hidden')\r\n  }\r\n}"]}